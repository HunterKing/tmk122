   1               		.file	"action_layer.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.text.default_layer_state_set,"ax",@progbits
  12               	default_layer_state_set:
  13               	.LFB4:
  14               		.file 1 "/users/hunter/downloads/tmk_core/common/action_layer.c"
   1:/users/hunter/downloads/tmk_core/common/action_layer.c **** #include <stdint.h>
   2:/users/hunter/downloads/tmk_core/common/action_layer.c **** #include "keyboard.h"
   3:/users/hunter/downloads/tmk_core/common/action_layer.c **** #include "action.h"
   4:/users/hunter/downloads/tmk_core/common/action_layer.c **** #include "util.h"
   5:/users/hunter/downloads/tmk_core/common/action_layer.c **** #include "action_layer.h"
   6:/users/hunter/downloads/tmk_core/common/action_layer.c **** #include "hook.h"
   7:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
   8:/users/hunter/downloads/tmk_core/common/action_layer.c **** #ifdef DEBUG_ACTION
   9:/users/hunter/downloads/tmk_core/common/action_layer.c **** #include "debug.h"
  10:/users/hunter/downloads/tmk_core/common/action_layer.c **** #else
  11:/users/hunter/downloads/tmk_core/common/action_layer.c **** #include "nodebug.h"
  12:/users/hunter/downloads/tmk_core/common/action_layer.c **** #endif
  13:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  14:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  15:/users/hunter/downloads/tmk_core/common/action_layer.c **** /* 
  16:/users/hunter/downloads/tmk_core/common/action_layer.c ****  * Default Layer State
  17:/users/hunter/downloads/tmk_core/common/action_layer.c ****  */
  18:/users/hunter/downloads/tmk_core/common/action_layer.c **** uint32_t default_layer_state = 0;
  19:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  20:/users/hunter/downloads/tmk_core/common/action_layer.c **** static void default_layer_state_set(uint32_t state)
  21:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
  15               		.loc 1 21 0
  16               		.cfi_startproc
  17               	.LVL0:
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20               	/* stack size = 0 */
  21               	.L__stack_usage = 0
  22:/users/hunter/downloads/tmk_core/common/action_layer.c ****     debug("default_layer_state: ");
  23:/users/hunter/downloads/tmk_core/common/action_layer.c ****     default_layer_debug(); debug(" to ");
  24:/users/hunter/downloads/tmk_core/common/action_layer.c ****     default_layer_state = state;
  22               		.loc 1 24 0
  23 0000 6093 0000 		sts default_layer_state,r22
  24 0004 7093 0000 		sts default_layer_state+1,r23
  25 0008 8093 0000 		sts default_layer_state+2,r24
  26 000c 9093 0000 		sts default_layer_state+3,r25
  25:/users/hunter/downloads/tmk_core/common/action_layer.c ****     hook_default_layer_change(default_layer_state);
  27               		.loc 1 25 0
  28 0010 0E94 0000 		call hook_default_layer_change
  29               	.LVL1:
  26:/users/hunter/downloads/tmk_core/common/action_layer.c ****     default_layer_debug(); debug("\n");
  27:/users/hunter/downloads/tmk_core/common/action_layer.c ****     clear_keyboard_but_mods(); // To avoid stuck keys
  30               		.loc 1 27 0
  31 0014 0C94 0000 		jmp clear_keyboard_but_mods
  32               	.LVL2:
  33               		.cfi_endproc
  34               	.LFE4:
  36               		.section	.text.layer_state_set,"ax",@progbits
  38               	layer_state_set:
  39               	.LFB10:
  28:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
  29:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  30:/users/hunter/downloads/tmk_core/common/action_layer.c **** void default_layer_debug(void)
  31:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
  32:/users/hunter/downloads/tmk_core/common/action_layer.c ****     dprintf("%08lX(%u)", default_layer_state, biton32(default_layer_state));
  33:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
  34:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  35:/users/hunter/downloads/tmk_core/common/action_layer.c **** void default_layer_set(uint32_t state)
  36:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
  37:/users/hunter/downloads/tmk_core/common/action_layer.c ****     default_layer_state_set(state);
  38:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
  39:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  40:/users/hunter/downloads/tmk_core/common/action_layer.c **** #ifndef NO_ACTION_LAYER
  41:/users/hunter/downloads/tmk_core/common/action_layer.c **** void default_layer_or(uint32_t state)
  42:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
  43:/users/hunter/downloads/tmk_core/common/action_layer.c ****     default_layer_state_set(default_layer_state | state);
  44:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
  45:/users/hunter/downloads/tmk_core/common/action_layer.c **** void default_layer_and(uint32_t state)
  46:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
  47:/users/hunter/downloads/tmk_core/common/action_layer.c ****     default_layer_state_set(default_layer_state & state);
  48:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
  49:/users/hunter/downloads/tmk_core/common/action_layer.c **** void default_layer_xor(uint32_t state)
  50:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
  51:/users/hunter/downloads/tmk_core/common/action_layer.c ****     default_layer_state_set(default_layer_state ^ state);
  52:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
  53:/users/hunter/downloads/tmk_core/common/action_layer.c **** #endif
  54:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  55:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  56:/users/hunter/downloads/tmk_core/common/action_layer.c **** #ifndef NO_ACTION_LAYER
  57:/users/hunter/downloads/tmk_core/common/action_layer.c **** /* 
  58:/users/hunter/downloads/tmk_core/common/action_layer.c ****  * Keymap Layer State
  59:/users/hunter/downloads/tmk_core/common/action_layer.c ****  */
  60:/users/hunter/downloads/tmk_core/common/action_layer.c **** uint32_t layer_state = 0;
  61:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  62:/users/hunter/downloads/tmk_core/common/action_layer.c **** static void layer_state_set(uint32_t state)
  63:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
  40               		.loc 1 63 0
  41               		.cfi_startproc
  42               	.LVL3:
  43               	/* prologue: function */
  44               	/* frame size = 0 */
  45               	/* stack size = 0 */
  46               	.L__stack_usage = 0
  64:/users/hunter/downloads/tmk_core/common/action_layer.c ****     dprint("layer_state: ");
  65:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_debug(); dprint(" to ");
  66:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state = state;
  47               		.loc 1 66 0
  48 0000 6093 0000 		sts layer_state,r22
  49 0004 7093 0000 		sts layer_state+1,r23
  50 0008 8093 0000 		sts layer_state+2,r24
  51 000c 9093 0000 		sts layer_state+3,r25
  67:/users/hunter/downloads/tmk_core/common/action_layer.c ****     hook_layer_change(layer_state);
  52               		.loc 1 67 0
  53 0010 0E94 0000 		call hook_layer_change
  54               	.LVL4:
  68:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_debug(); dprintln();
  69:/users/hunter/downloads/tmk_core/common/action_layer.c ****     clear_keyboard_but_mods(); // To avoid stuck keys
  55               		.loc 1 69 0
  56 0014 0C94 0000 		jmp clear_keyboard_but_mods
  57               	.LVL5:
  58               		.cfi_endproc
  59               	.LFE10:
  61               		.section	.text.default_layer_debug,"ax",@progbits
  62               	.global	default_layer_debug
  64               	default_layer_debug:
  65               	.LFB5:
  31:/users/hunter/downloads/tmk_core/common/action_layer.c ****     dprintf("%08lX(%u)", default_layer_state, biton32(default_layer_state));
  66               		.loc 1 31 0
  67               		.cfi_startproc
  68               	/* prologue: function */
  69               	/* frame size = 0 */
  70               	/* stack size = 0 */
  71               	.L__stack_usage = 0
  72               	/* epilogue start */
  33:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  73               		.loc 1 33 0
  74 0000 0895      		ret
  75               		.cfi_endproc
  76               	.LFE5:
  78               		.section	.text.default_layer_set,"ax",@progbits
  79               	.global	default_layer_set
  81               	default_layer_set:
  82               	.LFB6:
  36:/users/hunter/downloads/tmk_core/common/action_layer.c ****     default_layer_state_set(state);
  83               		.loc 1 36 0
  84               		.cfi_startproc
  85               	.LVL6:
  86               	/* prologue: function */
  87               	/* frame size = 0 */
  88               	/* stack size = 0 */
  89               	.L__stack_usage = 0
  37:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
  90               		.loc 1 37 0
  91 0000 0C94 0000 		jmp default_layer_state_set
  92               	.LVL7:
  93               		.cfi_endproc
  94               	.LFE6:
  96               		.section	.text.default_layer_or,"ax",@progbits
  97               	.global	default_layer_or
  99               	default_layer_or:
 100               	.LFB7:
  42:/users/hunter/downloads/tmk_core/common/action_layer.c ****     default_layer_state_set(default_layer_state | state);
 101               		.loc 1 42 0
 102               		.cfi_startproc
 103               	.LVL8:
 104 0000 0F93      		push r16
 105               	.LCFI0:
 106               		.cfi_def_cfa_offset 3
 107               		.cfi_offset 16, -2
 108 0002 1F93      		push r17
 109               	.LCFI1:
 110               		.cfi_def_cfa_offset 4
 111               		.cfi_offset 17, -3
 112               	/* prologue: function */
 113               	/* frame size = 0 */
 114               	/* stack size = 2 */
 115               	.L__stack_usage = 2
  43:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 116               		.loc 1 43 0
 117 0004 0091 0000 		lds r16,default_layer_state
 118 0008 1091 0000 		lds r17,default_layer_state+1
 119 000c 2091 0000 		lds r18,default_layer_state+2
 120 0010 3091 0000 		lds r19,default_layer_state+3
 121 0014 602B      		or r22,r16
 122               	.LVL9:
 123 0016 712B      		or r23,r17
 124 0018 822B      		or r24,r18
 125 001a 932B      		or r25,r19
 126               	/* epilogue start */
  44:/users/hunter/downloads/tmk_core/common/action_layer.c **** void default_layer_and(uint32_t state)
 127               		.loc 1 44 0
 128 001c 1F91      		pop r17
 129 001e 0F91      		pop r16
  43:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 130               		.loc 1 43 0
 131 0020 0C94 0000 		jmp default_layer_state_set
 132               	.LVL10:
 133               		.cfi_endproc
 134               	.LFE7:
 136               		.section	.text.default_layer_and,"ax",@progbits
 137               	.global	default_layer_and
 139               	default_layer_and:
 140               	.LFB8:
  46:/users/hunter/downloads/tmk_core/common/action_layer.c ****     default_layer_state_set(default_layer_state & state);
 141               		.loc 1 46 0
 142               		.cfi_startproc
 143               	.LVL11:
 144 0000 0F93      		push r16
 145               	.LCFI2:
 146               		.cfi_def_cfa_offset 3
 147               		.cfi_offset 16, -2
 148 0002 1F93      		push r17
 149               	.LCFI3:
 150               		.cfi_def_cfa_offset 4
 151               		.cfi_offset 17, -3
 152               	/* prologue: function */
 153               	/* frame size = 0 */
 154               	/* stack size = 2 */
 155               	.L__stack_usage = 2
  47:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 156               		.loc 1 47 0
 157 0004 0091 0000 		lds r16,default_layer_state
 158 0008 1091 0000 		lds r17,default_layer_state+1
 159 000c 2091 0000 		lds r18,default_layer_state+2
 160 0010 3091 0000 		lds r19,default_layer_state+3
 161 0014 6023      		and r22,r16
 162               	.LVL12:
 163 0016 7123      		and r23,r17
 164 0018 8223      		and r24,r18
 165 001a 9323      		and r25,r19
 166               	/* epilogue start */
  48:/users/hunter/downloads/tmk_core/common/action_layer.c **** void default_layer_xor(uint32_t state)
 167               		.loc 1 48 0
 168 001c 1F91      		pop r17
 169 001e 0F91      		pop r16
  47:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 170               		.loc 1 47 0
 171 0020 0C94 0000 		jmp default_layer_state_set
 172               	.LVL13:
 173               		.cfi_endproc
 174               	.LFE8:
 176               		.section	.text.default_layer_xor,"ax",@progbits
 177               	.global	default_layer_xor
 179               	default_layer_xor:
 180               	.LFB9:
  50:/users/hunter/downloads/tmk_core/common/action_layer.c ****     default_layer_state_set(default_layer_state ^ state);
 181               		.loc 1 50 0
 182               		.cfi_startproc
 183               	.LVL14:
 184 0000 0F93      		push r16
 185               	.LCFI4:
 186               		.cfi_def_cfa_offset 3
 187               		.cfi_offset 16, -2
 188 0002 1F93      		push r17
 189               	.LCFI5:
 190               		.cfi_def_cfa_offset 4
 191               		.cfi_offset 17, -3
 192               	/* prologue: function */
 193               	/* frame size = 0 */
 194               	/* stack size = 2 */
 195               	.L__stack_usage = 2
  51:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 196               		.loc 1 51 0
 197 0004 0091 0000 		lds r16,default_layer_state
 198 0008 1091 0000 		lds r17,default_layer_state+1
 199 000c 2091 0000 		lds r18,default_layer_state+2
 200 0010 3091 0000 		lds r19,default_layer_state+3
 201 0014 6027      		eor r22,r16
 202               	.LVL15:
 203 0016 7127      		eor r23,r17
 204 0018 8227      		eor r24,r18
 205 001a 9327      		eor r25,r19
 206               	/* epilogue start */
  52:/users/hunter/downloads/tmk_core/common/action_layer.c **** #endif
 207               		.loc 1 52 0
 208 001c 1F91      		pop r17
 209 001e 0F91      		pop r16
  51:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 210               		.loc 1 51 0
 211 0020 0C94 0000 		jmp default_layer_state_set
 212               	.LVL16:
 213               		.cfi_endproc
 214               	.LFE9:
 216               		.section	.text.layer_clear,"ax",@progbits
 217               	.global	layer_clear
 219               	layer_clear:
 220               	.LFB11:
  70:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
  71:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  72:/users/hunter/downloads/tmk_core/common/action_layer.c **** void layer_clear(void)
  73:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
 221               		.loc 1 73 0
 222               		.cfi_startproc
 223               	/* prologue: function */
 224               	/* frame size = 0 */
 225               	/* stack size = 0 */
 226               	.L__stack_usage = 0
  74:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(0);
 227               		.loc 1 74 0
 228 0000 60E0      		ldi r22,0
 229 0002 70E0      		ldi r23,0
 230 0004 CB01      		movw r24,r22
 231 0006 0C94 0000 		jmp layer_state_set
 232               	.LVL17:
 233               		.cfi_endproc
 234               	.LFE11:
 236               		.section	.text.layer_move,"ax",@progbits
 237               	.global	layer_move
 239               	layer_move:
 240               	.LFB12:
  75:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
  76:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  77:/users/hunter/downloads/tmk_core/common/action_layer.c **** void layer_move(uint8_t layer)
  78:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
 241               		.loc 1 78 0
 242               		.cfi_startproc
 243               	.LVL18:
 244 0000 0F93      		push r16
 245               	.LCFI6:
 246               		.cfi_def_cfa_offset 3
 247               		.cfi_offset 16, -2
 248 0002 1F93      		push r17
 249               	.LCFI7:
 250               		.cfi_def_cfa_offset 4
 251               		.cfi_offset 17, -3
 252               	/* prologue: function */
 253               	/* frame size = 0 */
 254               	/* stack size = 2 */
 255               	.L__stack_usage = 2
  79:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(1UL<<layer);
 256               		.loc 1 79 0
 257 0004 41E0      		ldi r20,lo8(1)
 258 0006 50E0      		ldi r21,0
 259 0008 60E0      		ldi r22,0
 260 000a 70E0      		ldi r23,0
 261 000c 8A01      		movw r16,r20
 262 000e 9B01      		movw r18,r22
 263 0010 00C0      		rjmp 2f
 264               		1:
 265 0012 000F      		lsl r16
 266 0014 111F      		rol r17
 267 0016 221F      		rol r18
 268 0018 331F      		rol r19
 269               		2:
 270 001a 8A95      		dec r24
 271 001c 02F4      		brpl 1b
 272 001e C901      		movw r24,r18
 273               	.LVL19:
 274 0020 B801      		movw r22,r16
 275               	/* epilogue start */
  80:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 276               		.loc 1 80 0
 277 0022 1F91      		pop r17
 278 0024 0F91      		pop r16
  79:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(1UL<<layer);
 279               		.loc 1 79 0
 280 0026 0C94 0000 		jmp layer_state_set
 281               	.LVL20:
 282               		.cfi_endproc
 283               	.LFE12:
 285               		.section	.text.layer_on,"ax",@progbits
 286               	.global	layer_on
 288               	layer_on:
 289               	.LFB13:
  81:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  82:/users/hunter/downloads/tmk_core/common/action_layer.c **** void layer_on(uint8_t layer)
  83:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
 290               		.loc 1 83 0
 291               		.cfi_startproc
 292               	.LVL21:
 293 0000 0F93      		push r16
 294               	.LCFI8:
 295               		.cfi_def_cfa_offset 3
 296               		.cfi_offset 16, -2
 297 0002 1F93      		push r17
 298               	.LCFI9:
 299               		.cfi_def_cfa_offset 4
 300               		.cfi_offset 17, -3
 301               	/* prologue: function */
 302               	/* frame size = 0 */
 303               	/* stack size = 2 */
 304               	.L__stack_usage = 2
  84:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(layer_state | (1UL<<layer));
 305               		.loc 1 84 0
 306 0004 41E0      		ldi r20,lo8(1)
 307 0006 50E0      		ldi r21,0
 308 0008 60E0      		ldi r22,0
 309 000a 70E0      		ldi r23,0
 310 000c 00C0      		rjmp 2f
 311               		1:
 312 000e 440F      		lsl r20
 313 0010 551F      		rol r21
 314 0012 661F      		rol r22
 315 0014 771F      		rol r23
 316               		2:
 317 0016 8A95      		dec r24
 318 0018 02F4      		brpl 1b
 319 001a 8091 0000 		lds r24,layer_state
 320 001e 9091 0000 		lds r25,layer_state+1
 321 0022 A091 0000 		lds r26,layer_state+2
 322 0026 B091 0000 		lds r27,layer_state+3
 323               	.LVL22:
 324 002a 8A01      		movw r16,r20
 325 002c 9B01      		movw r18,r22
 326 002e 082B      		or r16,r24
 327 0030 192B      		or r17,r25
 328 0032 2A2B      		or r18,r26
 329 0034 3B2B      		or r19,r27
 330 0036 C901      		movw r24,r18
 331 0038 B801      		movw r22,r16
 332               	/* epilogue start */
  85:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 333               		.loc 1 85 0
 334 003a 1F91      		pop r17
 335 003c 0F91      		pop r16
  84:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(layer_state | (1UL<<layer));
 336               		.loc 1 84 0
 337 003e 0C94 0000 		jmp layer_state_set
 338               	.LVL23:
 339               		.cfi_endproc
 340               	.LFE13:
 342               		.section	.text.layer_off,"ax",@progbits
 343               	.global	layer_off
 345               	layer_off:
 346               	.LFB14:
  86:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  87:/users/hunter/downloads/tmk_core/common/action_layer.c **** void layer_off(uint8_t layer)
  88:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
 347               		.loc 1 88 0
 348               		.cfi_startproc
 349               	.LVL24:
 350 0000 0F93      		push r16
 351               	.LCFI10:
 352               		.cfi_def_cfa_offset 3
 353               		.cfi_offset 16, -2
 354 0002 1F93      		push r17
 355               	.LCFI11:
 356               		.cfi_def_cfa_offset 4
 357               		.cfi_offset 17, -3
 358               	/* prologue: function */
 359               	/* frame size = 0 */
 360               	/* stack size = 2 */
 361               	.L__stack_usage = 2
  89:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(layer_state & ~(1UL<<layer));
 362               		.loc 1 89 0
 363 0004 41E0      		ldi r20,lo8(1)
 364 0006 50E0      		ldi r21,0
 365 0008 60E0      		ldi r22,0
 366 000a 70E0      		ldi r23,0
 367 000c 00C0      		rjmp 2f
 368               		1:
 369 000e 440F      		lsl r20
 370 0010 551F      		rol r21
 371 0012 661F      		rol r22
 372 0014 771F      		rol r23
 373               		2:
 374 0016 8A95      		dec r24
 375 0018 02F4      		brpl 1b
 376 001a CB01      		movw r24,r22
 377               	.LVL25:
 378 001c BA01      		movw r22,r20
 379 001e 6095      		com r22
 380 0020 7095      		com r23
 381 0022 8095      		com r24
 382 0024 9095      		com r25
 383 0026 0091 0000 		lds r16,layer_state
 384 002a 1091 0000 		lds r17,layer_state+1
 385 002e 2091 0000 		lds r18,layer_state+2
 386 0032 3091 0000 		lds r19,layer_state+3
 387 0036 6023      		and r22,r16
 388 0038 7123      		and r23,r17
 389 003a 8223      		and r24,r18
 390 003c 9323      		and r25,r19
 391               	/* epilogue start */
  90:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 392               		.loc 1 90 0
 393 003e 1F91      		pop r17
 394 0040 0F91      		pop r16
  89:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(layer_state & ~(1UL<<layer));
 395               		.loc 1 89 0
 396 0042 0C94 0000 		jmp layer_state_set
 397               	.LVL26:
 398               		.cfi_endproc
 399               	.LFE14:
 401               		.section	.text.layer_invert,"ax",@progbits
 402               	.global	layer_invert
 404               	layer_invert:
 405               	.LFB15:
  91:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  92:/users/hunter/downloads/tmk_core/common/action_layer.c **** void layer_invert(uint8_t layer)
  93:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
 406               		.loc 1 93 0
 407               		.cfi_startproc
 408               	.LVL27:
 409 0000 0F93      		push r16
 410               	.LCFI12:
 411               		.cfi_def_cfa_offset 3
 412               		.cfi_offset 16, -2
 413 0002 1F93      		push r17
 414               	.LCFI13:
 415               		.cfi_def_cfa_offset 4
 416               		.cfi_offset 17, -3
 417               	/* prologue: function */
 418               	/* frame size = 0 */
 419               	/* stack size = 2 */
 420               	.L__stack_usage = 2
  94:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(layer_state ^ (1UL<<layer));
 421               		.loc 1 94 0
 422 0004 41E0      		ldi r20,lo8(1)
 423 0006 50E0      		ldi r21,0
 424 0008 60E0      		ldi r22,0
 425 000a 70E0      		ldi r23,0
 426 000c 00C0      		rjmp 2f
 427               		1:
 428 000e 440F      		lsl r20
 429 0010 551F      		rol r21
 430 0012 661F      		rol r22
 431 0014 771F      		rol r23
 432               		2:
 433 0016 8A95      		dec r24
 434 0018 02F4      		brpl 1b
 435 001a 8091 0000 		lds r24,layer_state
 436 001e 9091 0000 		lds r25,layer_state+1
 437 0022 A091 0000 		lds r26,layer_state+2
 438 0026 B091 0000 		lds r27,layer_state+3
 439               	.LVL28:
 440 002a 8A01      		movw r16,r20
 441 002c 9B01      		movw r18,r22
 442 002e 0827      		eor r16,r24
 443 0030 1927      		eor r17,r25
 444 0032 2A27      		eor r18,r26
 445 0034 3B27      		eor r19,r27
 446 0036 C901      		movw r24,r18
 447 0038 B801      		movw r22,r16
 448               	/* epilogue start */
  95:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 449               		.loc 1 95 0
 450 003a 1F91      		pop r17
 451 003c 0F91      		pop r16
  94:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(layer_state ^ (1UL<<layer));
 452               		.loc 1 94 0
 453 003e 0C94 0000 		jmp layer_state_set
 454               	.LVL29:
 455               		.cfi_endproc
 456               	.LFE15:
 458               		.section	.text.layer_or,"ax",@progbits
 459               	.global	layer_or
 461               	layer_or:
 462               	.LFB16:
  96:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
  97:/users/hunter/downloads/tmk_core/common/action_layer.c **** void layer_or(uint32_t state)
  98:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
 463               		.loc 1 98 0
 464               		.cfi_startproc
 465               	.LVL30:
 466 0000 0F93      		push r16
 467               	.LCFI14:
 468               		.cfi_def_cfa_offset 3
 469               		.cfi_offset 16, -2
 470 0002 1F93      		push r17
 471               	.LCFI15:
 472               		.cfi_def_cfa_offset 4
 473               		.cfi_offset 17, -3
 474               	/* prologue: function */
 475               	/* frame size = 0 */
 476               	/* stack size = 2 */
 477               	.L__stack_usage = 2
  99:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(layer_state | state);
 478               		.loc 1 99 0
 479 0004 0091 0000 		lds r16,layer_state
 480 0008 1091 0000 		lds r17,layer_state+1
 481 000c 2091 0000 		lds r18,layer_state+2
 482 0010 3091 0000 		lds r19,layer_state+3
 483 0014 602B      		or r22,r16
 484               	.LVL31:
 485 0016 712B      		or r23,r17
 486 0018 822B      		or r24,r18
 487 001a 932B      		or r25,r19
 488               	/* epilogue start */
 100:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 489               		.loc 1 100 0
 490 001c 1F91      		pop r17
 491 001e 0F91      		pop r16
  99:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(layer_state | state);
 492               		.loc 1 99 0
 493 0020 0C94 0000 		jmp layer_state_set
 494               	.LVL32:
 495               		.cfi_endproc
 496               	.LFE16:
 498               		.section	.text.layer_and,"ax",@progbits
 499               	.global	layer_and
 501               	layer_and:
 502               	.LFB17:
 101:/users/hunter/downloads/tmk_core/common/action_layer.c **** void layer_and(uint32_t state)
 102:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
 503               		.loc 1 102 0
 504               		.cfi_startproc
 505               	.LVL33:
 506 0000 0F93      		push r16
 507               	.LCFI16:
 508               		.cfi_def_cfa_offset 3
 509               		.cfi_offset 16, -2
 510 0002 1F93      		push r17
 511               	.LCFI17:
 512               		.cfi_def_cfa_offset 4
 513               		.cfi_offset 17, -3
 514               	/* prologue: function */
 515               	/* frame size = 0 */
 516               	/* stack size = 2 */
 517               	.L__stack_usage = 2
 103:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(layer_state & state);
 518               		.loc 1 103 0
 519 0004 0091 0000 		lds r16,layer_state
 520 0008 1091 0000 		lds r17,layer_state+1
 521 000c 2091 0000 		lds r18,layer_state+2
 522 0010 3091 0000 		lds r19,layer_state+3
 523 0014 6023      		and r22,r16
 524               	.LVL34:
 525 0016 7123      		and r23,r17
 526 0018 8223      		and r24,r18
 527 001a 9323      		and r25,r19
 528               	/* epilogue start */
 104:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 529               		.loc 1 104 0
 530 001c 1F91      		pop r17
 531 001e 0F91      		pop r16
 103:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(layer_state & state);
 532               		.loc 1 103 0
 533 0020 0C94 0000 		jmp layer_state_set
 534               	.LVL35:
 535               		.cfi_endproc
 536               	.LFE17:
 538               		.section	.text.layer_xor,"ax",@progbits
 539               	.global	layer_xor
 541               	layer_xor:
 542               	.LFB18:
 105:/users/hunter/downloads/tmk_core/common/action_layer.c **** void layer_xor(uint32_t state)
 106:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
 543               		.loc 1 106 0
 544               		.cfi_startproc
 545               	.LVL36:
 546 0000 0F93      		push r16
 547               	.LCFI18:
 548               		.cfi_def_cfa_offset 3
 549               		.cfi_offset 16, -2
 550 0002 1F93      		push r17
 551               	.LCFI19:
 552               		.cfi_def_cfa_offset 4
 553               		.cfi_offset 17, -3
 554               	/* prologue: function */
 555               	/* frame size = 0 */
 556               	/* stack size = 2 */
 557               	.L__stack_usage = 2
 107:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(layer_state ^ state);
 558               		.loc 1 107 0
 559 0004 0091 0000 		lds r16,layer_state
 560 0008 1091 0000 		lds r17,layer_state+1
 561 000c 2091 0000 		lds r18,layer_state+2
 562 0010 3091 0000 		lds r19,layer_state+3
 563 0014 6027      		eor r22,r16
 564               	.LVL37:
 565 0016 7127      		eor r23,r17
 566 0018 8227      		eor r24,r18
 567 001a 9327      		eor r25,r19
 568               	/* epilogue start */
 108:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 569               		.loc 1 108 0
 570 001c 1F91      		pop r17
 571 001e 0F91      		pop r16
 107:/users/hunter/downloads/tmk_core/common/action_layer.c ****     layer_state_set(layer_state ^ state);
 572               		.loc 1 107 0
 573 0020 0C94 0000 		jmp layer_state_set
 574               	.LVL38:
 575               		.cfi_endproc
 576               	.LFE18:
 578               		.section	.text.layer_debug,"ax",@progbits
 579               	.global	layer_debug
 581               	layer_debug:
 582               	.LFB22:
 583               		.cfi_startproc
 584               	/* prologue: function */
 585               	/* frame size = 0 */
 586               	/* stack size = 0 */
 587               	.L__stack_usage = 0
 588               	/* epilogue start */
 589 0000 0895      		ret
 590               		.cfi_endproc
 591               	.LFE22:
 593               		.section	.text.layer_switch_get_action,"ax",@progbits
 594               	.global	layer_switch_get_action
 596               	layer_switch_get_action:
 597               	.LFB20:
 109:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
 110:/users/hunter/downloads/tmk_core/common/action_layer.c **** void layer_debug(void)
 111:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
 112:/users/hunter/downloads/tmk_core/common/action_layer.c ****     dprintf("%08lX(%u)", layer_state, biton32(layer_state));
 113:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 114:/users/hunter/downloads/tmk_core/common/action_layer.c **** #endif
 115:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
 116:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
 117:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
 118:/users/hunter/downloads/tmk_core/common/action_layer.c **** action_t layer_switch_get_action(keypos_t key)
 119:/users/hunter/downloads/tmk_core/common/action_layer.c **** {
 598               		.loc 1 119 0
 599               		.cfi_startproc
 600               	.LVL39:
 601               		.loc 1 119 0
 602 0000 CF92      		push r12
 603               	.LCFI20:
 604               		.cfi_def_cfa_offset 3
 605               		.cfi_offset 12, -2
 606 0002 DF92      		push r13
 607               	.LCFI21:
 608               		.cfi_def_cfa_offset 4
 609               		.cfi_offset 13, -3
 610 0004 EF92      		push r14
 611               	.LCFI22:
 612               		.cfi_def_cfa_offset 5
 613               		.cfi_offset 14, -4
 614 0006 FF92      		push r15
 615               	.LCFI23:
 616               		.cfi_def_cfa_offset 6
 617               		.cfi_offset 15, -5
 618 0008 0F93      		push r16
 619               	.LCFI24:
 620               		.cfi_def_cfa_offset 7
 621               		.cfi_offset 16, -6
 622 000a 1F93      		push r17
 623               	.LCFI25:
 624               		.cfi_def_cfa_offset 8
 625               		.cfi_offset 17, -7
 626 000c CF93      		push r28
 627               	.LCFI26:
 628               		.cfi_def_cfa_offset 9
 629               		.cfi_offset 28, -8
 630 000e DF93      		push r29
 631               	.LCFI27:
 632               		.cfi_def_cfa_offset 10
 633               		.cfi_offset 29, -9
 634               	/* prologue: function */
 635               	/* frame size = 0 */
 636               	/* stack size = 8 */
 637               	.L__stack_usage = 8
 638 0010 8C01      		movw r16,r24
 639               	.LVL40:
 120:/users/hunter/downloads/tmk_core/common/action_layer.c ****     action_t action = ACTION_TRANSPARENT;
 121:/users/hunter/downloads/tmk_core/common/action_layer.c **** 
 122:/users/hunter/downloads/tmk_core/common/action_layer.c **** #ifndef NO_ACTION_LAYER
 123:/users/hunter/downloads/tmk_core/common/action_layer.c ****     uint32_t layers = layer_state | default_layer_state;
 640               		.loc 1 123 0
 641 0012 C090 0000 		lds r12,layer_state
 642 0016 D090 0000 		lds r13,layer_state+1
 643 001a E090 0000 		lds r14,layer_state+2
 644 001e F090 0000 		lds r15,layer_state+3
 645 0022 8091 0000 		lds r24,default_layer_state
 646 0026 9091 0000 		lds r25,default_layer_state+1
 647 002a A091 0000 		lds r26,default_layer_state+2
 648 002e B091 0000 		lds r27,default_layer_state+3
 649               	.LVL41:
 650 0032 C82A      		or r12,r24
 651 0034 D92A      		or r13,r25
 652 0036 EA2A      		or r14,r26
 653 0038 FB2A      		or r15,r27
 654               	.LVL42:
 655 003a CFE1      		ldi r28,lo8(31)
 656 003c D0E0      		ldi r29,0
 657               	.LVL43:
 658               	.L20:
 659               	.LBB2:
 124:/users/hunter/downloads/tmk_core/common/action_layer.c ****     /* check top layer first */
 125:/users/hunter/downloads/tmk_core/common/action_layer.c ****     for (int8_t i = 31; i >= 0; i--) {
 126:/users/hunter/downloads/tmk_core/common/action_layer.c ****         if (layers & (1UL<<i)) {
 660               		.loc 1 126 0
 661 003e D701      		movw r26,r14
 662 0040 C601      		movw r24,r12
 663 0042 0C2E      		mov r0,r28
 664 0044 00C0      		rjmp 2f
 665               		1:
 666 0046 B695      		lsr r27
 667 0048 A795      		ror r26
 668 004a 9795      		ror r25
 669 004c 8795      		ror r24
 670               		2:
 671 004e 0A94      		dec r0
 672 0050 02F4      		brpl 1b
 673 0052 80FF      		sbrs r24,0
 674 0054 00C0      		rjmp .L18
 127:/users/hunter/downloads/tmk_core/common/action_layer.c ****             action = action_for_key(i, key);
 675               		.loc 1 127 0
 676 0056 B801      		movw r22,r16
 677 0058 8C2F      		mov r24,r28
 678 005a 0E94 0000 		call action_for_key
 679               	.LVL44:
 128:/users/hunter/downloads/tmk_core/common/action_layer.c ****             if (action.code != (action_t)ACTION_TRANSPARENT.code) {
 680               		.loc 1 128 0
 681 005e 8130      		cpi r24,1
 682 0060 9105      		cpc r25,__zero_reg__
 683 0062 01F0      		breq .L18
 684               	.LVL45:
 685               	.L19:
 686               	.LVL46:
 687               	/* epilogue start */
 688               	.LBE2:
 129:/users/hunter/downloads/tmk_core/common/action_layer.c ****                 return action;
 130:/users/hunter/downloads/tmk_core/common/action_layer.c ****             }
 131:/users/hunter/downloads/tmk_core/common/action_layer.c ****         }
 132:/users/hunter/downloads/tmk_core/common/action_layer.c ****     }
 133:/users/hunter/downloads/tmk_core/common/action_layer.c ****     /* fall back to layer 0 */
 134:/users/hunter/downloads/tmk_core/common/action_layer.c ****     action = action_for_key(0, key);
 135:/users/hunter/downloads/tmk_core/common/action_layer.c ****     return action;
 136:/users/hunter/downloads/tmk_core/common/action_layer.c **** #else
 137:/users/hunter/downloads/tmk_core/common/action_layer.c ****     action = action_for_key(biton32(default_layer_state), key);
 138:/users/hunter/downloads/tmk_core/common/action_layer.c ****     return action;
 139:/users/hunter/downloads/tmk_core/common/action_layer.c **** #endif
 140:/users/hunter/downloads/tmk_core/common/action_layer.c **** }
 689               		.loc 1 140 0
 690 0064 DF91      		pop r29
 691 0066 CF91      		pop r28
 692 0068 1F91      		pop r17
 693 006a 0F91      		pop r16
 694               	.LVL47:
 695 006c FF90      		pop r15
 696 006e EF90      		pop r14
 697 0070 DF90      		pop r13
 698 0072 CF90      		pop r12
 699               	.LVL48:
 700 0074 0895      		ret
 701               	.LVL49:
 702               	.L18:
 703               	.LVL50:
 704               	.LBB3:
 705 0076 2197      		sbiw r28,1
 706 0078 00F4      		brcc .L20
 707               	.LBE3:
 134:/users/hunter/downloads/tmk_core/common/action_layer.c ****     return action;
 708               		.loc 1 134 0
 709 007a B801      		movw r22,r16
 710 007c 80E0      		ldi r24,0
 711 007e 0E94 0000 		call action_for_key
 712               	.LVL51:
 135:/users/hunter/downloads/tmk_core/common/action_layer.c **** #else
 713               		.loc 1 135 0
 714 0082 00C0      		rjmp .L19
 715               		.cfi_endproc
 716               	.LFE20:
 718               	.global	layer_state
 719               		.section	.bss.layer_state,"aw",@nobits
 722               	layer_state:
 723 0000 0000 0000 		.zero	4
 724               	.global	default_layer_state
 725               		.section	.bss.default_layer_state,"aw",@nobits
 728               	default_layer_state:
 729 0000 0000 0000 		.zero	4
 730               		.text
 731               	.Letext0:
 732               		.file 2 "/opt/local/avr/include/stdint.h"
 733               		.file 3 "/users/hunter/downloads/tmk_core/common/keyboard.h"
 734               		.file 4 "/users/hunter/downloads/tmk_core/common/action_code.h"
 735               		.file 5 "/users/hunter/downloads/tmk_core/common/action_layer.h"
 736               		.file 6 "/users/hunter/downloads/tmk_core/common/avr/xprintf.h"
 737               		.file 7 "/users/hunter/downloads/tmk_core/common/debug.h"
 738               		.file 8 "/users/hunter/downloads/tmk_core/common/action.h"
 739               		.file 9 "/users/hunter/downloads/tmk_core/common/hook.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 action_layer.c
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:4      *ABS*:000000000000003f __SREG__
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:5      *ABS*:0000000000000000 __tmp_reg__
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:6      *ABS*:0000000000000001 __zero_reg__
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:12     .text.default_layer_state_set:0000000000000000 default_layer_state_set
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:728    .bss.default_layer_state:0000000000000000 default_layer_state
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:38     .text.layer_state_set:0000000000000000 layer_state_set
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:722    .bss.layer_state:0000000000000000 layer_state
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:64     .text.default_layer_debug:0000000000000000 default_layer_debug
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:81     .text.default_layer_set:0000000000000000 default_layer_set
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:99     .text.default_layer_or:0000000000000000 default_layer_or
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:139    .text.default_layer_and:0000000000000000 default_layer_and
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:179    .text.default_layer_xor:0000000000000000 default_layer_xor
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:219    .text.layer_clear:0000000000000000 layer_clear
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:239    .text.layer_move:0000000000000000 layer_move
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:288    .text.layer_on:0000000000000000 layer_on
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:345    .text.layer_off:0000000000000000 layer_off
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:404    .text.layer_invert:0000000000000000 layer_invert
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:461    .text.layer_or:0000000000000000 layer_or
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:501    .text.layer_and:0000000000000000 layer_and
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:541    .text.layer_xor:0000000000000000 layer_xor
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:581    .text.layer_debug:0000000000000000 layer_debug
/var/folders/qj/kb_cqn1j20vbbrqdphlhjt3c0000gn/T//cchyid12.s:596    .text.layer_switch_get_action:0000000000000000 layer_switch_get_action

UNDEFINED SYMBOLS
hook_default_layer_change
clear_keyboard_but_mods
hook_layer_change
action_for_key
__do_clear_bss
